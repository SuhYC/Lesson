# C# ```string``` vs C++ ```std::string``` vs C++ ```std::wstring```
C#의 ```string```과 C++의 ```std::string```, ```std::wstring```은 여러부분에서 차이가 난다. <br/>

## C# ```string```
각각의 문자열은 불변객체로, 문자열이 변경되면 새 문자열 객체가 할당된다. <br/>
UTF-16으로 인코딩되어 각 문자는 2바이트로 저장한다. 일부 특수문자는 4바이트로 저장할 수도 있다.<br/>
```string.Length```를 호출하면 문자의 갯수를 리턴한다. <br/>

## C++ ```std::string```
가변객체로, 바이트배열에 내용을 저장하고, 배열을 초과하는 문자열을 요청하면 기존 메모리공간을 해제하고 새로운 메모리공간을 할당하여 저장한다. <br/>
ASCII 또는 UTF-8를 지원하지만 어떤 인코딩이든 문자열을 바이트시퀀스로 저장할 수 있다. <br/>
```std::string::length()```를 호출하면 문자열이 차지한 바이트수를 리턴한다. <br/>
ASCII문자에 대해서는 ```std::string::length()```는 문자의 갯수를 리턴하지만, 다국적 문자에 대해서는 1글자당 2바이트 이상을 차지하는 경우가 있어 차이가 난다. <br/>

## C++ ```std::wstring```
가변객체로, wchar_t배열에 내용을 저장하고, 배열을 초과하는 문자열을 요청하면 기존 메모리공간을 해제하고 새로운 메모리공간을 할당하여 저장한다. <br/>
UTF-16 또는 UTF-32로 인코딩되어 각 문자는 2바이트 혹은 4바이트로 저장한다. <br/>
```std::wstring::length()```는 문자열이 차지한 바이트수 / 2 를 리턴한다. <br/>
하지만 일반적으로 대부분의 문자는 2바이트로 표현이 가능하기에 이모지 같은 특수한 4바이트 표현문자를 제외하면 문자수를 리턴한다고 생각할 수 있다. <br/>

## MSSQL ```VARCHAR```
ASCII나 UTF-8문자 인코딩(혹은 다른 로컬문자 인코딩)을 사용해 가변길이 문자열을 저장.<br/>
각 문자는 1바이트씩을 차지한다.

## MSSQL ```NVARCHAR```
유니코드(UTF-16 또는 UCS-2) 문자 인코딩을 사용해 가변길이 문자열을 저장. <br/>
각 문자는 2바이트를 차지한다.

## ODBC C++ ```SQLCHAR```
1바이트 문자를 표현하는 데이터타입. C스타일 문자열(```char[]```)를 사용한다. <br/>
ASCII 혹은 UTF-8 문자열등을 표현할 때 사용한다. <br/>
1바이트 단위로 저장한다. <br/>
```VARCHAR```에 해당하는 데이터타입이다.

## ODBC C++ ```SQLWCHAR```
2바이트 문자를 표현하는 데이터타입. ```wchar_t[]```와 같은 방식으로 유니코드 문자열을 다룬다. <br/>
기본적으로 UTF-16인코딩을 지원한다. <br/>
2바이트 단위로 저장한다. <br/>
```NVARCHAR```에 해당하는 데이터타입이다.<br/>
```SQLExecDirect```함수가 기본적으로 ```SQLWCHAR[]``` 타입의 쿼리를 파라미터로 받기 때문에<br/>
```std::string``` 문자열을 쿼리에 포함시키고 싶다면 UTF-16으로 인코딩한 ```std::wstring```으로 변환하여<br/>
```swprintf```함수에 ```c_str()```으로 전달해주면 된다.<br/>
인코딩 변환에는 ```MultiByteToWideChar```함수와 ```WideCharToMultiByte```함수를 이용할 것.
