# Complexity

## 복잡도

흔히 요즘 요구되는 복잡도는 시간복잡도(Time Complexity).
하지만 공간복잡도(Space Complexity)도 있다.

이전에는 메모리의 용량도 크지 않고(4kB의 공간을 가진 메모리에 게임이 돌아가는 시대가 있었다?! 뿌슝빠슝)
보조기억장치의 용량도 크지 않아(게임칩의 용량이 게임 썸네일의 사진용량보다 작아?! 뿌슝빠슝)
공간복잡도와 시간복잡도 모두 요구되었으나

현재는 기억장치의 발달로 공간복잡도는 메모리누수 정도만 언급되고 (물론 그렇다고 할당을 과도하게 하는 건 좋지 않다)
시간복잡도가 중요한 시대가 되었다.

흔히 시간복잡도는 빅오 표기법(Big-O Notation)으로 표현되는데
입력데이터의 크기 n(바이트크기를 말하는 건 아니다. 데이터의 갯수)에 대해 3n^2 + 6n + 2의 연산을 수행해야 한다면 -> O(n^2)의 방식으로 표기한다.
가장 높은 차수의 항을 계수를 제외하고 적는다.

이 이유는 데이터를 처리하다 보면 적은 차수의 연산은 크게 문제되지 않는다.
예를 들어 99n의 연산을 수행해야 한다고 하면 n이 1이어도 10000이어도 연산수는 백만회를 넘지 않으며
일반적으로 1억회의 연산이 1초 걸리는 것을 생각할 때, 0.01초의 연산은 대형서버에서는 조금 문제가 될지도 모르겠지만 일반적인 경우 잠깐의 지연정도로 볼 수도 있을 것이다.
하지만 3n^2의 연산을 수행해야 한다고 하면 n이 10000인 경우에 연산수는 3억회가량이며
위 경우와 비교할 때 300배 가량의 시간이 소요되며 3초라는 시간동안 서버가 한 요청만 처리하는 것은 어떤 서버에서든 큰 문제가 될 수 있다.

이처럼 차수가 높은 시간복잡도를 갖는 알고리즘은 큰 위험이 되며
그렇기에 일반적인 경우 n^2 이상의 시간복잡도를 갖는 알고리즘은 특이 케이스를 제외하고는 더 낮은 시간복잡도로 대체하는 것이 바람직하다.
(Floyd-Warshall 알고리즘 같은 경우가 특이 케이스이다. n^3의 시간복잡도를 갖지만 n이 작은 경우에는 사용해도 된다.)

더 나아가 P vs NP Problem(P대NP 문제)라는 것이 컴퓨터과학계의 밀레니엄문제로 존재하고 있는데
NP-Complete 집합에 속하는 문제는 P 집합에 포함되는가(해리 가능한가)에 대한 문제이다.
P집합은 흔히 쉽게 풀리는 문제로, 정확히는 결정론적 튜링머신으로 다항시간 내에 해결할 수 있는 문제이다.
(결정론적 튜링머신이란, 데이터가 구체화된 레지스터 몇개, 데이터를 바탕으로 다음 행동을 지시할 지시문을 가지고 연산하는 장치를 말한다. 흔히 현대의 일반적인 컴퓨터를 의미하며 한번에 한가지 분기를 연산할 수 있다.)
(상태와 지시문을 바탕으로 연산하며 상태가 하나로 정해져 있다.)
NP집합은 쉽게 풀리지 않는 문제로, 정확히는 비결정론적 튜링머신으로 다항시간 내에 해결할 수 있는 문제이다.
(결정론적 튜링머신과 다르게 비결정론적 튜링머신은 데이터가 추상화된 레지스터와 지시문을 가지고 연산하며, 한번에 여러 분기를 연산할 수 있는 기계이다. 양자컴퓨터가 근접하다 볼 수 있다.)
(상태와 지시문을 바탕으로 연산하며 상태가 하나로 정해져 있지 않다.)

비결정론적 튜링머신으로도 결정론적 튜링머신이 다항시간내 해결할 수 있는 문제를 다항시간 내 해결할 수 있으므로 NP문제는 P문제를 포함한다.
그리고 NP 이상의 문제들도 있는데, NP-Hard가 그 경우이다.
NP-Hard는 NP"이상"의 난이도를 가지는 문제로, 정확히는 모든 NP문제를 다항시간 내 다대일환산할 수 있는 문제로,
이 때의 환산이란 예를 들면
곱셈과 제곱중 어떤 것이 어려운 연산일까? 를 생각할 때,
a * b를 제곱과 덧셈과 2로나누기로 표현하면 ((a+b)^2 - a^2 - b^2)/2 와 같이 표현할 수 있으며 이를 환산이라고 표현한다.
여기서 추가적인 제약조건으로 표현식에 각 연산은 같은종류는 한번만 사용할 수 있다고 한정한다면
제곱을 곱셈으로 표현하는 것은 a * a로 간단히 표현 가능하지만
곱셈을 제곱으로 표현하는 것은 어려워지며
이로인해 제곱의 난이도는 곱셈의 난이도 이하이다 난이도(제곱) <= 난이도(곱셈) 과 같이 표현할 수 있을 것이다.
결론적으로 NP-Hard는 해당 풀이가 존재하면 환산을 통해 NP문제들 또한 풀이가 존재하게 된다 정도의 의미를 갖는다.

이제 다시 돌아와 P vs NP Problem에서 NP-Complete를 확인해야 하는데,
NP-Complete란, NP-Hard에 속하면서, NP문제에 속하는 문제들을 말한다.
아까 NP-Hard란, NP이상의 난이도를 갖는 문제라고 했으니
NP이면서 모든NP이상의 난이도를 가져야하니 NP문제 중 가장 어려운 문제들 이라고 이해하면 되겠다.

그러므로 NP-Complete가 P문제로 환산이 가능하냐 라는 문제는 NP-Complete가 P문제로 환산되면 모든 NP또한 P로 환산이 가능해지므로
모든 NP문제가 결정론적 튜링머신으로 풀리는 문제인 것인가 (하지만 현재시대에 풀이가 발견되지 않았을 뿐)
을 확인하는 문제이다.

사실 유클리드 호제법만 봐도
유클리드 호제법을 모르는 상태에서 최대공약수(GCD)를 계산하라 고 문제를 제시하면
대부분의 사람들은 일일히 2부터 나눠볼 것이고
뛰어난 사람들은 2 이상 sqrt(n) 이하의 소수로 나눠볼 것이다.
그리고 유클리드 호제법을 아는 사람들은 유클리드 호제법을 사용하겠지.

유클리드 호제법의 사례를 볼 때, PvsNP가 참이다 라고 주장하는 사람들이 많았으나
현재는 시간이 지나도 그 실마리조차 잡을 수 없으니 대부분이 거짓이겠지라고 생각하는 쪽으로 바뀌었다고 한다.



비결정론적 튜링머신에 대해 좀 더 설명하자면
현재로서 양자컴퓨터가 가장 근접한데, 이는 관찰하지 않은 양자비트를 통해 연산을 수행하고, 마지막에 양자얽힘이라던지 여러 양자역학적 이론을 통해 대입함으로 그 결과를 알 수 있게 하는 방식을 사용하기 때문이다.
하나의 양자비트로 연산을 수행하고, 그 양자를 복사한 이후에 복사된 양자비트마다 하나씩 대입연산만 수행하면 여러개의 상태를 동시에 연산한 것이 되니
비결정론적 튜링머신에 일치하는 풀이법이라고 볼 수 있는 거겠지.

그런데 현대의 양자컴퓨터도 에러율이라는 문제가 있는데
그를 방지하기 위해 큐비트 라는 방식도 도입하고 여러가지로 에러율을 줄이려고 한다고 한다.
그리고 아직은 아무리 양자컴퓨터여도 NP를 쉽게 풀지는 못하는듯.. 아직 NP-Complete를 푼 양자컴퓨터는 없다고 한다.
