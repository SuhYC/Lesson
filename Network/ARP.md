# Address Resolution Protocol
L3 네트워크 계층에서 IP주소를 MAC주소로 전환하는 주소 해석 프로토콜. <br/>
(MAC주소 : 로컬네트워크 내)<br/>
(IP주소 : 인터넷을 포함한 넓은 범위)

## 통신하고자 하는 두 단말이 같은 네트워크에 있을 때
1. 송신자 A가 자신과 연결된 단말에 Broadcast방식으로 ARP요청을 보내 같은 네트워크 내의 모든 단말에게 보냅니다.
2. A는 아직 수신자 B의 MAC 주소를 모르기 때문에 B의 주소를 기본게이트웨이로 기록합니다.
3. 네트워크 스위치 장비는 A의 MAC주소가 저장되어있지 않은 경우 A의 MAC주소를 MAC주소테이블에 저장합니다.
4. 네트워크 스위치 장비가 B의 MAC주소를 가지고 있다면 A에게 송신하며, 가지고 있지 않다면 B에 Broadcast되어 B가 자신의 MAC주소를 알려주는 응답을 합니다.
5. 전달받은 B의 MAC주소를 이용해 A는 B와 통신을 시작합니다.

## 통신하고자 하는 두 단말이 같은 네트워크에 있지 않을 때
1. 같은 네트워크에 존재하는지 모르기 때문에 A는 B의 주소를 묻는 ARP요청을 Broadcast합니다.
2. 라우터가 해당 ARP 요청을 받고 B의 IP주소가 같은 네트워크에 있지 않아 같은 네트워크 대역대에 있는 라우터 자신의 인터페이스MAC주소로 응답합니다.
3. A는B와 통신하기 위해 다시 라우터에게 B의 목적지 IP주소와 같은 네트워크 대역의 라우터 인터페이스 MAC주소를 목적지로 ARP요청을 보냅니다
4. 라우터는 해당 네트워크 대역까지 패킷을 보냅니다. 단 라우터도 B의 MAC주소를 모르므로 해당 네트워크 대역에 Broadcast메시지로 MAC주소를 가진 단말이 있는지 물어봅니다.
5. B 단말이 자신의 IP주소가 목적지인 패킷을 보고 라우터에게 자신의 MAC주소를 포함하여 응답합니다.
6. 라우터를 경유하여 A와 B가 통신을 시작합니다.
